{"version":3,"sources":["../../server/crud/db.js"],"names":["dotenv","config","connectionString","getEmail","email","Promise","resolve","reject","client","Client","connect","then","sql","params","query","result","rows","end","catch","e","insertUsers","firstName","lastName","password","token"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEAA,iBAAOC,MAAP;AACA;;AAEA;AACA,IAAIC,mBAAmB,iDAAvB;;AAGA,IAAMC,WAAW,SAAXA,QAAW,CAACC,KAAD,EAAW;AACxB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AACjC,QAAMC,SAAS,IAAIC,UAAJ,CAAWP,gBAAX,CAAf;AACDM,WAAOE,OAAP,GACCC,IADD,CACM,YAAI;AACN,UAAMC,0CAAN;AACA,UAAMC,SAAS,CAACT,KAAD,CAAf;AACAI,aAAOM,KAAP,CAAaF,GAAb,EAAiBC,MAAjB,EACCF,IADD,CACM,UAACI,MAAD,EAAU;AACZ;AACCT,gBAAQS,OAAOC,IAAf;AACDR,eAAOS,GAAP;AACH,OALD,EAKGC,KALH,CAKS,UAACC,CAAD,EAAK;AACbZ,eAAOY,CAAP;AACA,OAPD;AAQH,KAZD,EAYGD,KAZH,CAYS,UAACC,CAAD,EAAK;AACbZ,aAAOY,CAAP;AACA,KAdD;AAeF,GAjBM,CAAP;AAkBD,CAnBH;;AAsBE,IAAMC,cAAc,SAAdA,WAAc,CAACC,SAAD,EAAYC,QAAZ,EAAsBlB,KAAtB,EAA6BmB,QAA7B,EAAuCC,KAAvC,EAAiD;AACnE,SAAO,IAAInB,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AACnC,QAAMC,SAAS,IAAIC,UAAJ,CAAWP,gBAAX,CAAf;AACAM,WAAOE,OAAP,GACCC,IADD,CACM,YAAI;AACR,UAAMC,wFAAN;AACA,UAAMC,SAAS,CAACQ,SAAD,EAAWC,QAAX,EAAoBlB,KAApB,EAA0BmB,QAA1B,EAAmCC,KAAnC,CAAf;AACAhB,aAAOM,KAAP,CAAaF,GAAb,EAAiBC,MAAjB,EACCF,IADD,CACM,UAACI,MAAD,EAAU;AACXT,gBAAQS,OAAOC,IAAf;AACAR,eAAOS,GAAP;AACJ,OAJD,EAIGC,KAJH,CAIS,UAACC,CAAD,EAAK;AACZZ,eAAOY,CAAP;AACD,OAND;AAOD,KAXD,EAWGD,KAXH,CAWS,UAACC,CAAD,EAAK;AACZZ,aAAOY,CAAP;AACD,KAbD;AAcD,GAhBM,CAAP;AAiBD,CAlBD;;QAsBKhB,Q,GAAAA,Q;QAASiB,W,GAAAA,W","file":"db.js","sourcesContent":["import { Client } from 'pg';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n// let connectionString = process.env.DATABASE_URL;\n\n// Database connection String\nlet connectionString = \"postgres://Frank:jfrank@127.0.0.1:5432/epicmail\";\n\n\nconst getEmail = (email) => {\n    return new Promise((resolve,reject)=>{\n        const client = new Client(connectionString);\n       client.connect()\n       .then(()=>{\n           const sql = `SELECT * FROM users WHERE email=$1`;\n           const params = [email];\n           client.query(sql,params)\n           .then((result)=>{\n               // console.log(result.rows);\n                resolve(result.rows);\n               client.end();\n           }).catch((e)=>{\n            reject(e);\n           })\n       }).catch((e)=>{\n        reject(e);\n       })\n    })\n  }\n\n\n  const insertUsers = (firstName, lastName, email, password, token) => {\n    return new Promise((resolve,reject)=>{\n      const client = new Client(connectionString);\n      client.connect()\n      .then(()=>{\n        const sql = `INSERT INTO users(firstname,lastname,email,password,token)VALUES($1,$2,$3,$4,$5)`;\n        const params = [firstName,lastName,email,password,token];\n        client.query(sql,params)\n        .then((result)=>{\n             resolve(result.rows);\n             client.end();\n        }).catch((e)=>{\n          reject(e)\n        })\n      }).catch((e)=>{\n        reject(e);\n      })\n    })\n  }\n\n\n\nexport{getEmail,insertUsers}\n"]}