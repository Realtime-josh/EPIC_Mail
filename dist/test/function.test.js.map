{"version":3,"sources":["../../server/test/function.test.js"],"names":["describe","it","res","les","bless","guess","toBe","firstCheck","secondCheck","thridCheck","fourthCheck","done","app","post","send","email","firstName","lastName","password","set","expect","end","err","body","error","toContain","status","message","senderId","receiverId","subject"],"mappings":"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","file":"function.test.js","sourcesContent":["import expect from 'expect';\r\nimport request from 'supertest';\r\nimport { isPositiveInteger, trimAllSpace, filterInput } from '../helpers/validators';\r\nimport app from '../app';\r\n\r\ndescribe('function tests', () => {\r\n  it('should return a positive number', () => {\r\n    const res = isPositiveInteger(2);\r\n    const les = isPositiveInteger(1.09);\r\n    const bless = isPositiveInteger(-3);\r\n    const guess = isPositiveInteger('3');\r\n    expect(res).toBe(true);\r\n    expect(les).toBe(false);\r\n    expect(bless).toBe(false);\r\n    expect(guess).toBe(true);\r\n  });\r\n\r\n\r\n  it('should trim all white spaces', () => {\r\n    const res = trimAllSpace('  kelvin    ');\r\n    const les = trimAllSpace('ma  r k ');\r\n    const bless = trimAllSpace('  j a  k  e');\r\n    const guess = trimAllSpace('Cla rke');\r\n    expect(res).toBe('kelvin');\r\n    expect(les).toBe('mark');\r\n    expect(bless).toBe('jake');\r\n    expect(guess).toBe('Clarke');\r\n  });\r\n\r\n  it('should flag special characters', () => {\r\n    const firstCheck = filterInput('ke   lvin    %');\r\n    const secondCheck = filterInput('ma  & r k ');\r\n    const thridCheck = filterInput('  j a <  k  e');\r\n    const fourthCheck = filterInput('Cla ~rke');\r\n    expect(firstCheck).toBe(true);\r\n    expect(secondCheck).toBe(true);\r\n    expect(thridCheck).toBe(true);\r\n    expect(fourthCheck).toBe(true);\r\n  });\r\n});\r\n\r\n\r\ndescribe('middlewares for routes', () => {\r\n  it('should return error if user has already signed up', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        firstName: 'Joshua',\r\n        lastName: 'Frankson',\r\n        password: 'jddhehndhr',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('email already exist.');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should check email validity', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'frankson#$%joshua@gmail.com',\r\n        firstName: 'Joshua',\r\n        lastName: 'Frankson',\r\n        password: 'jddhehndhr',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure username, email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should check firstName validity', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        firstName: 'Joshu%^$#@a',\r\n        lastName: 'Frankson',\r\n        password: 'jddhehndhr',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure username, email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n\r\n  it('should check lastName validity', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        firstName: 'Joshua',\r\n        lastName: 'Fra$%#@nkson',\r\n        password: 'jddhehndhr',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure username, email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should check password length is greater than 6', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        firstName: 'Joshua',\r\n        lastName: 'Frankson',\r\n        password: 'jddhe',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure username, email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n\r\n  it('should return length of first name greater than 1', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        firstName: ' ',\r\n        lastName: 'Frankson',\r\n        password: 'jddhe',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure username, email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should return length of lastName greater than 1', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        firstName: 'Joshua',\r\n        lastName: ' ',\r\n        password: 'jddhe',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure username, email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should not return withspaces in names', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        firstName: '     ',\r\n        lastName: ' ',\r\n        password: 'jddhert',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure username, email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n\r\n  it('should return error for an unregistered email account', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/login')\r\n      .send({\r\n        email: 'franksonjos@gmail.com',\r\n        password: 'yettiyea',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('email and password is not associated with a registered account');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should return error for an invalid email address', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/login')\r\n      .send({\r\n        email: 'frankson$%#@jos@gmail.com',\r\n        password: 'yettiyea',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should return error for a wrong password', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/login')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        password: 'yettdhtes',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('email and password is not associated with a registered account');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n\r\n  it('should return error for an invalid password length', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/login')\r\n      .send({\r\n        email: 'franksonjoshua@gmail.com',\r\n        password: 'yet',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(400)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('Ensure email and password are valid entries');\r\n        expect(res.body.status).toBe(400);\r\n      });\r\n    done();\r\n  });\r\n});\r\n\r\n\r\n\r\ndescribe('POST /signup route', () => {\r\n  it('should successfully create user', (done) => {\r\n    request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        email: 'kellyfeller@gmail.com',\r\n        firstName: 'Kelly',\r\n        lastName: 'Feller',\r\n        password: 'jddhehndhr',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(200)\r\n      .expect('Content-type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.message).toContain('User successfully created');\r\n        expect(res.body.status).toBe(200);\r\n      });\r\n    done();\r\n  });\r\n});\r\n\r\ndescribe('POST /sendmessage route', () => {\r\n  it('should successfully send email to user', (done) => {\r\n    request(app)\r\n      .post('/api/v1/message/messages')\r\n      .send({\r\n        senderId: 1,\r\n        receiverId: 2,\r\n        subject: 'Hello Dear',\r\n        message: 'bluseal',\r\n        status: 'read',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(200)\r\n      .expect('Content-type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.message).toContain('Message successfully sent');\r\n        expect(res.body.status).toBe(200);\r\n      });\r\n    done();\r\n  });\r\n});"]}