{"version":3,"sources":["../../server/test/sendmessage.test.js"],"names":["describe","it","done","app","post","send","senderId","receiverId","subject","message","status","set","expect","end","err","res","body","error","toContain","toBe"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAGAA,SAAS,cAAT,EAAyB,YAAM;AAC7BC,KAAG,qDAAH,EAA0D,UAACC,IAAD,EAAU;AAClE,6BAAQC,aAAR,EACGC,IADH,CACQ,0BADR,EAEGC,IAFH,CAEQ;AACJC,gBAAU,CADN;AAEJC,kBAAY,KAFR;AAGJC,eAAS,YAHL;AAIJC,eAAS,wBAJL;AAKJC,cAAQ;AALJ,KAFR,EASGC,GATH,CASO,QATP,EASiB,kBATjB,EAUGC,MAVH,CAUU,GAVV,EAWGA,MAXH,CAWU,cAXV,EAW0B,MAX1B,EAYGC,GAZH,CAYO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,UAAID,GAAJ,EAASZ,KAAKY,GAAL;AACT,4BAAOC,IAAIC,IAAJ,CAASC,KAAhB,EAAuBC,SAAvB,CAAiC,qCAAjC;AACA,4BAAOH,IAAIC,IAAJ,CAASN,MAAhB,EAAwBS,IAAxB,CAA6B,GAA7B;AACD,KAhBH;AAiBAjB;AACD,GAnBD;AAoBD,CArBD","file":"sendmessage.test.js","sourcesContent":["import expect from 'expect';\r\nimport request from 'supertest';\r\nimport app from '../app';\r\n\r\n\r\ndescribe('send message', () => {\r\n  it('should return error for user or users not signed up', (done) => {\r\n    request(app)\r\n      .post('/api/v1/message/messages')\r\n      .send({\r\n        senderId: 1,\r\n        receiverId: 53422,\r\n        subject: 'Hello Dear',\r\n        message: 'You have a new message',\r\n        status: 'read',\r\n      })\r\n      .set('Accept', 'application/json')\r\n      .expect(401)\r\n      .expect('Content-Type', /json/)\r\n      .end((err, res) => {\r\n        if (err) done(err);\r\n        expect(res.body.error).toContain('one or more users is not registered');\r\n        expect(res.body.status).toBe(401);\r\n      });\r\n    done();\r\n  });\r\n});\r\n"]}