{"version":3,"sources":["../../server/test/app.test.js"],"names":["describe","it","app","get","set","expect","then","response","body","message","toContain","error","done","post","send","end","err","res","status","toBe"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAGAA,SAAS,OAAT,EAAkB,YAAI;AACpBC,KAAG,qCAAH,EAA0C,YAAI;AAC5C,6BAAQC,aAAR,EACCC,GADD,CACK,GADL,EAECC,GAFD,CAEK,QAFL,EAEe,kBAFf,EAGCC,MAHD,CAGQ,GAHR,EAICC,IAJD,CAIM,UAACC,QAAD,EAAY;AAChB,4BAAOA,SAASC,IAAT,CAAcC,OAArB,EAA8BC,SAA9B,CAAwC,SAAxC;AACD,KAND;AAQD,GATD;AAUD,CAXD;;AAcAV,SAAS,GAAT,EAAc,YAAM;AAClBC,KAAG,mCAAH,EAAwC,YAAI;AAC1C,6BAAQC,aAAR,EACCC,GADD,CACK,UADL,EAECC,GAFD,CAEK,QAFL,EAEe,kBAFf,EAGCC,MAHD,CAGQ,GAHR,EAICC,IAJD,CAIM,UAACC,QAAD,EAAY;AAChB,4BAAOA,SAASC,IAAT,CAAcG,KAArB,EAA4BD,SAA5B,CAAsC,SAAtC;AACD,KAND;AAOD,GARD;AASD,CAVD;;AAaAV,SAAS,oBAAT,EAA+B,YAAI;AAChCC,KAAG,iCAAH,EAAsC,UAACW,IAAD,EAAQ;AAC1C,6BAAQV,aAAR,EACCW,IADD,CACM,gCADN,EAECC,IAFD,CAEM;AACK,eAAU,uBADf;AAEK,mBAAc,OAFnB;AAGK,kBAAa,QAHlB;AAIK,kBAAa;AAJlB,KAFN,EAQCV,GARD,CAQK,QARL,EAQe,kBARf,EASCC,MATD,CASQ,GATR,EAUCA,MAVD,CAUQ,cAVR,EAUwB,MAVxB,EAWCU,GAXD,CAWK,UAACC,GAAD,EAAKC,GAAL,EAAW;AACb,UAAGD,GAAH,EAAQJ,KAAKI,GAAL;AACL,4BAAOC,IAAIT,IAAJ,CAASC,OAAhB,EAAyBC,SAAzB,CAAmC,2BAAnC;AACA,4BAAOO,IAAIT,IAAJ,CAASU,MAAhB,EAAwBC,IAAxB,CAA6B,GAA7B;AACL,KAfD;AAgBAP;AACH,GAlBD;AAoBF,CArBD;;AAyBAZ,SAAS,yBAAT,EAAoC,YAAI;AACrCC,KAAG,wCAAH,EAA6C,UAACW,IAAD,EAAQ;AACjD,6BAAQV,aAAR,EACCW,IADD,CACM,6BADN,EAECC,IAFD,CAEM;AACG,kBAAW,CADd;AAEG,oBAAa,CAFhB;AAGG,iBAAU,YAHb;AAIG,iBAAU,SAJb;AAKI,gBAAS;AALb,KAFN,EASCV,GATD,CASK,QATL,EASe,kBATf,EAUCC,MAVD,CAUQ,GAVR,EAWCA,MAXD,CAWQ,cAXR,EAWwB,MAXxB,EAYCU,GAZD,CAYK,UAACC,GAAD,EAAKC,GAAL,EAAW;AACb,UAAGD,GAAH,EAAQJ,KAAKI,GAAL;AACL,4BAAOC,IAAIT,IAAJ,CAASC,OAAhB,EAAyBC,SAAzB,CAAmC,2BAAnC;AACA,4BAAOO,IAAIT,IAAJ,CAASU,MAAhB,EAAwBC,IAAxB,CAA6B,GAA7B;AACL,KAhBD;AAiBAP;AACH,GAnBD;AAqBF,CAtBD","file":"app.test.js","sourcesContent":["import app from \"../app\";\r\nimport expect from \"expect\";\r\nimport request from \"supertest\";\r\n\r\n\r\ndescribe(\"GET /\", ()=>{\r\n  it(\"should respond with welcome message\", ()=>{\r\n    request(app)\r\n    .get(\"/\")\r\n    .set(\"Accept\", \"application/json\")\r\n    .expect(200)\r\n    .then((response)=>{\r\n      expect(response.body.message).toContain(\"Welcome\");\r\n    });\r\n\r\n  });\r\n});\r\n\r\n\r\ndescribe(\"*\", () => {\r\n  it(\"should respond with error message\", ()=>{\r\n    request(app)\r\n    .get(\"/noroute\")\r\n    .set(\"Accept\", \"application/json\")\r\n    .expect(404)\r\n    .then((response)=>{\r\n      expect(response.body.error).toContain(\"Invalid\");\r\n    });\r\n  });\r\n});\r\n\r\n\r\ndescribe(\"POST /signup route\", ()=>{\r\n   it(\"should successfully create user\", (done)=>{\r\n       request(app)\r\n       .post(\"/api/v1/contacts/createaccount\")\r\n       .send({\r\n                  \"email\" : \"kellyfeller@gmail.com\",\r\n                  \"firstName\" : \"Kelly\",\r\n                  \"lastName\" : \"Feller\",\r\n                  \"password\" : \"jddhehndhr\"               \r\n       })\r\n       .set(\"Accept\", \"application/json\")\r\n       .expect(200)\r\n       .expect(\"Content-type\", /json/)\r\n       .end((err,res)=>{\r\n          if(err) done(err);\r\n             expect(res.body.message).toContain(\"User successfully created\");\r\n             expect(res.body.status).toBe(200);\r\n       });\r\n       done();\r\n   });\r\n\r\n});\r\n\r\n\r\n\r\ndescribe(\"POST /sendmessage route\", ()=>{\r\n   it(\"should successfully send email to user\", (done)=>{\r\n       request(app)\r\n       .post(\"/api/v1/message/sendmessage\")\r\n       .send({\r\n                \"senderId\":1, \r\n                \"receiverId\":2, \r\n                \"subject\":\"Hello Dear\", \r\n                \"message\":\"bluseal\", \r\n                 \"status\":\"read\"              \r\n       })\r\n       .set(\"Accept\", \"application/json\")\r\n       .expect(200)\r\n       .expect(\"Content-type\", /json/)\r\n       .end((err,res)=>{\r\n          if(err) done(err);\r\n             expect(res.body.message).toContain(\"Message successfully sent\");\r\n             expect(res.body.status).toBe(200);\r\n       });\r\n       done();\r\n   });\r\n\r\n});\r\n\r\n\r\n\r\n"]}